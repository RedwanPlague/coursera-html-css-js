(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Category"],{"03ff":function(t,r,e){"use strict";var i=function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",[e("b-button",{attrs:{id:"add-to-cart","aria-controls":"sidebar-right-footer"+t.productId,"aria-expanded":t.show},on:{click:function(r){return t.initialHandler(!0)}}},[t._v(" Add to Cart ")]),e("b-button",{attrs:{id:"buy-now","aria-controls":"sidebar-right-footer-buy"+t.productId,"aria-expanded":""},on:{click:function(r){return t.initialHandler(!1)}}},[t._v(" Buy Now ")]),e("b-sidebar",{attrs:{id:"sidebar-right-footer"+t.productId,"aria-label":"Sidebar with custom footer",shadow:"",lazy:"",width:"70%"},scopedSlots:t._u([{key:"footer",fn:function(){return[e("div",{staticClass:"mx-auto text-center"},[e("b-button",{staticClass:"col-6",attrs:{squared:"",variant:"warning"},on:{click:t.doReset}},[t._v("Reset")]),e("b-button",{staticClass:"col-6",attrs:{squared:"",variant:"success",disabled:!t.allSelected},on:{click:t.finalHandler}},[t._v(" "+t._s(t.cartButtonPressed?"Add to Cart":"Check Out")+" ")])],1)]},proxy:!0}]),model:{value:t.show,callback:function(r){t.show=r},expression:"show"}},[t.productLoaded?e("div",{staticClass:"mx-auto d-flex flex-column"},[e("b-list-group",[t._l(t.product.specifications,(function(r,i,a){return e("span",{key:a},[Array.isArray(r)?e("b-list-group-item",[e("b-form-group",{attrs:{label:i}},[e("b-form-select",{staticStyle:{width:"70%"},attrs:{options:r,"value-field":i},scopedSlots:t._u([{key:"first",fn:function(){return[e("b-form-select-option",{attrs:{value:null,disabled:""}},[t._v("-- Please select an option --")])]},proxy:!0}],null,!0),model:{value:t.selector[i],callback:function(r){t.$set(t.selector,i,r)},expression:"selector[key]"}})],1)],1):t._e()],1)})),e("b-list-group-item",[e("label",{attrs:{for:"sb-inline"+t.productId}},[t._v("Quantity")]),e("b-form-spinbutton",{staticClass:"ml-2",attrs:{id:"sb-inline"+t.productId,inline:""},model:{value:t.quantity,callback:function(r){t.quantity=r},expression:"quantity"}})],1)],2)],1):t._e()])],1)},a=[],o=(e("b0c0"),e("5530")),s=e("2f62"),n=e("9c03"),c={name:"SpecSelector",props:["productId","productInit"],data:function(){return{product:{},productLoaded:!1,selector:{},show:!1,cartButtonPressed:null,quantity:1}},computed:{allSelected:function(){if(!this.productLoaded)return!1;for(var t in this.selector)if(this.selector.hasOwnProperty(t)&&Array.isArray(this.product.specifications[t])&&null===this.selector[t])return!1;return!0}},mixins:[n["a"]],methods:Object(o["a"])(Object(o["a"])({},Object(s["b"])(["addToCart"])),{},{loadProduct:function(){var t=this;if(!this.productLoaded){var r=this.productId;this.loader("/product",{productID:r},"specs of product-".concat(r)).then((function(r){t.product=r.data,t.product.specifications=t.product.extra,delete t.product.extra,t.productLoaded=!0,t.loadSelector()}))}},loadSelector:function(){for(var t in this.selector=JSON.parse(JSON.stringify(this.product.specifications)),this.selector)this.selector.hasOwnProperty(t)&&Array.isArray(this.product.specifications[t])&&(this.selector[t]=null)},makeOrder:function(){var t=this.product.price.sellingPrice;return{products:[{id:this.product.productID,name:this.product.name,specifications:this.selector,quantity:this.quantity,image:this.product.images[0],curPrice:t,discount:this.product.price.discount,vat:this.product.price.vat}],subTotal:t*(1+this.product.price.vat/100)*this.quantity,deliveryCharge:60}},initialHandler:function(t){this.loadProduct(),this.show=!0,this.cartButtonPressed=t},finalHandler:function(){this.allSelected&&(this.cartButtonPressed?this.addToCart({productID:this.product.productID,specifications:this.selector,quantity:this.quantity}).then().catch((function(t){console.log(t.response)})):this.$router.push({name:"OrderSubmitDetails",query:{order:this.makeOrder()}}),this.show=!1)},doReset:function(){for(var t in this.selector)this.selector.hasOwnProperty(t)&&Array.isArray(this.product.specifications[t])&&(this.selector[t]=null)}}),created:function(){this.productInit&&(this.product=this.productInit,this.productLoaded=!0)}},u=c,d=(e("4499"),e("2877")),l=Object(d["a"])(u,i,a,!1,null,"deb76b90",null);r["a"]=l.exports},"1e02":function(t,r,e){"use strict";var i=e("ae58"),a=e.n(i);a.a},"1ef1":function(t,r,e){},3481:function(t,r,e){"use strict";e.r(r);var i=function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("b-container",{staticClass:"bv-example-row",attrs:{fluid:!0,id:"main"}},[e("b-row",{staticClass:"d-block d-md-none"},[e("side-filter",{attrs:{"route-name":t.$route.name,brands:t.brands,properties:t.spec.properties,"init-query":t.$route.query}})],1),e("b-row",{},[e("b-col",{staticClass:"d-none d-md-block",attrs:{md:"2"}},[e("side-filter",{attrs:{"route-name":t.$route.name,brands:t.brands,properties:t.spec.properties,"init-query":t.$route.query}})],1),e("b-col",{},[e("b-row",{staticClass:"mt-4 d-none d-md-block"},[e("div",{staticClass:"d-flex"},[e("h3",{},[t._v(t._s(this.$route.query["cat-name"]))])]),e("hr")]),e("h3",[t._v("SubCategory")]),e("b-row",{},t._l(t.subCategories,(function(r){return e("b-col",{key:r.name,staticClass:"my-3 col-lg-2 col-md-3 col-sm-4 col-xs-6",attrs:{sm:"4",cols:"6",lg:"2",md:"3"}},[e("sub-category-box",{attrs:{category:t.category.name,"sub-category":r}})],1)})),1),e("b-container",{staticClass:"d-flex justify-content-center",attrs:{fluid:""}},[e("b-overlay",{staticClass:"d-inline block",attrs:{show:t.busy,opacity:"0.4","spinner-small":"","spinner-variant":"primary"}},[t.subCategoryLoadingDone?t._e():e("b-button",{attrs:{disabled:t.busy,variant:"success"},on:{click:t.loadSubCategories}},[t._v(" Load More ")])],1)],1),e("hr"),e("h3",[t._v("Products")]),e("b-row",{},t._l(t.products,(function(t){return e("b-col",{key:t.id,staticClass:"my-3",attrs:{sm:"4",cols:"6",lg:"2",md:"3"}},[e("product-box",{attrs:{product:t}})],1)})),1),e("b-container",{staticClass:"d-flex justify-content-center",attrs:{fluid:""}},[e("b-overlay",{staticClass:"d-inline block",attrs:{show:t.busy1,opacity:"0.4","spinner-small":"","spinner-variant":"primary"}},[t.productLoadingDone?t._e():e("b-button",{attrs:{disabled:t.busy1,variant:"success"},on:{click:t.loadProducts}},[t._v(" Load More ")])],1)],1)],1)],1)],1)},a=[],o=(e("99af"),function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("router-link",{attrs:{id:"holder",tag:"div",to:{name:"CertainSubCategory",query:{"cat-name":t.category,"subcat-name":t.subCategory.name}}}},[e("b-card",{attrs:{title:t.subCategory.name,"img-src":t.imgSrc,"img-width":"150px","img-height":"150px","img-alt":"product.name","img-top":""}})],1)}),s=[],n=(e("9911"),{name:"SubCategoryBox",props:["category","subCategory"],computed:{imgSrc:function(){return this.subCategory.image?this.subCategory.image.link:""}}}),c=n,u=(e("90bb"),e("2877")),d=Object(u["a"])(c,o,s,!1,null,"c2648238",null),l=d.exports,p=e("3f5c"),b=e("5f08"),f=e("9c03"),h={name:"CertainCategory",data:function(){return{category:{},spec:{properties:[]},brands:[],subCategories:[],subCategoryLoadingDone:!0,products:[],productLoadingDone:!0,dropText:"popularity",busy:!1,busy1:!1}},components:{SubCategoryBox:l,ProductBox:p["a"],SideFilter:b["a"]},mixins:[f["a"]],methods:{loadCategory:function(){var t=this,r=this.$route.query["cat-name"];this.loader("/category",{name:r},"category ".concat(r)).then((function(r){t.category=r.data.category,t.spec=r.data.spec,t.brands=r.data.brands}))},loadSubCategories:function(){var t=this,r=this.$route.query["cat-name"];this.subCategoryLoadingDone||(this.busy=!0);var e=this.subCategories.length,i="2";this.loader("/sub-categories/all",{"cat-name":r,offset:e,limit:i},"sub-categories under ".concat(r)).then((function(r){t.busy=!1,t.subCategories=t.subCategories.concat(r.data.subCategories),r.data.subCategories.length<i?t.subCategoryLoadingDone=!0:t.subCategoryLoadingDone=!1}))},setProducts:function(t,r){this.products=this.products.concat(t),t.length<r?this.productLoadingDone=!0:this.productLoadingDone=!1},loadProducts:function(){var t=this,r=this.$route.query["cat-name"];this.productLoadingDone||(this.busy1=!0);var e=this.products.length,i="2";if(this.$route.query.filtered){var a=Object.assign({offset:e,limit:i},this.$route.query);delete a.filtered,this.loader("/sort-and-filter",a,"filtered products of ".concat(r)).then((function(r){t.busy1=!1,t.setProducts(r.data.products,i)}))}else this.loader("/products/category",{name:r,offset:e,limit:i},"products of ".concat(r)).then((function(r){t.busy1=!1,t.setProducts(r.data.products,i)}))},clearProducts:function(){this.products=[],this.productLoadingDone=!0}},watch:{$route:function(t,r){t.query.brand&&!Array.isArray(t.query.brand)&&(t.query.brand=[t.query.brand]),t.query.specifications&&(t.query.specifications=JSON.parse(t.query.specifications)),t.query["cat-name"]!==r.query["cat-name"]&&(this.loadCategory(),this.loadSubCategories()),this.clearProducts(),this.loadProducts()}},created:function(){this.$route.query.brand&&!Array.isArray(this.$route.query.brand)&&(this.$route.query.brand=[this.$route.query.brand]),this.$route.query.specifications&&(this.$route.query.specifications=JSON.parse(this.$route.query.specifications)),this.loadCategory(),this.loadSubCategories(),this.loadProducts()}},m=h,y=(e("7041"),Object(u["a"])(m,i,a,!1,null,"091193de",null));r["default"]=y.exports},"3f5c":function(t,r,e){"use strict";var i=function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",{attrs:{id:"holder"}},[e("b-overlay",{attrs:{show:t.busy,opacity:"0.7","spinner-large":"","spinner-variant":"primary"},on:{hidden:t.onHidden}},[e("span",{on:{click:t.clicking}},[e("b-card",{attrs:{title:t.product.name,"img-src":t.imgSrc,"img-width":"250px","img-height":"250px","img-alt":"product.name","img-top":""}},[e("b-card-text",[e("span",{attrs:{id:"prev-price"}},[t._v("৳"+t._s(t.prevPrice))]),e("sup",{attrs:{id:"discount"}},[t._v("-"+t._s(t.product.discount)+"%")]),e("span",{attrs:{id:"cur-price"}},[t._v(" ৳"+t._s(t.product.curPrice))])])],1)],1)]),e("spec-selector",{attrs:{"product-id":t.product.id}})],1)},a=[],o=(e("9911"),e("03ff")),s={props:["product"],data:function(){return{busy:!1}},components:{SpecSelector:o["a"]},computed:{imgSrc:function(){return this.product.image?this.product.image.link:""},prevPrice:function(){return Math.round(this.product.curPrice/(1-this.product.discount/100))}},methods:{onHidden:function(){this.$refs.button.focus()},clicking:function(){this.busy=!0,this.$router.push({name:"CertainProduct",params:{id:this.product.id}})}}},n=s,c=(e("dae6"),e("2877")),u=Object(c["a"])(n,i,a,!1,null,"4d2446bc",null);r["a"]=u.exports},4499:function(t,r,e){"use strict";var i=e("8350"),a=e.n(i);a.a},"4cea":function(t,r,e){},"5f08":function(t,r,e){"use strict";var i=function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",{staticClass:"bg-white"},[e("div",{staticClass:"d-xs-block d-md-none"},[e("div",{staticClass:"shadow mb-2"},[e("b-dropdown",{staticClass:"col-6",attrs:{id:"dropdown-diviser",variant:"Light",text:t.sortOptions[t.sortId].text}},t._l(t.sortOptions,(function(r,i){return e("b-dropdown-item-button",{key:i,on:{click:function(r){return t.setSort(i)}}},[t._v(" "+t._s(r.text)+" ")])})),1),e("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.sidebar-footer",modifiers:{"sidebar-footer":!0}}],staticClass:"col-6",attrs:{variant:"Light"}},[e("b-icon",{attrs:{icon:"funnel"}}),t._v(" Filter")],1)],1),e("b-sidebar",{attrs:{id:"sidebar-footer","no-close-on-route-change":"","aria-label":"Sidebar with custom footer",shadow:"",width:"70%"},scopedSlots:t._u([{key:"footer",fn:function(){return[e("div",{staticClass:"mx-auto text-center"},[e("b-button",{staticClass:"col-6",attrs:{squared:"",variant:"warning"},on:{click:t.handleReset}},[t._v("Reset")]),e("b-button",{staticClass:"col-6",attrs:{squared:"",variant:"success"},on:{click:t.handleApplyFilter}},[t._v("Apply "+t._s(t.isFiltered))])],1)]},proxy:!0}])},[e("div",{staticClass:"px-3 py-2"},[e("b-form-group",{attrs:{label:"Brand"}},[e("b-form-checkbox-group",{attrs:{options:t.brands},model:{value:t.brand,callback:function(r){t.brand=r},expression:"brand"}})],1),e("p",[t._v(t._s(t.brand))]),t._l(t.specifications,(function(r,i,a){return e("span",{key:a},[e("b-form-group",{attrs:{label:i}},[e("b-form-checkbox-group",{attrs:{options:r},model:{value:t.filters[i],callback:function(r){t.$set(t.filters,i,r)},expression:"filters[key]"}})],1),e("p",[t._v(t._s(t.filters[i]))])],1)})),e("b-form-group",{attrs:{label:"Rating"}},t._l(5,(function(r){return e("b-form-checkbox",{key:r,attrs:{value:r},model:{value:t.rating,callback:function(r){t.rating=r},expression:"rating"}},[e("b-form-rating",{attrs:{id:"rat",inline:"","no-border":"",readonly:"",variant:"warning",value:r}}),r<5?e("small",[t._v(" and up")]):t._e()],1)})),1),e("b-form",{attrs:{inline:""}},[e("b-form-input",{staticStyle:{width:"40%"},attrs:{placeholder:"Min",type:"number"},model:{value:t.min,callback:function(r){t.min=r},expression:"min"}}),e("p",{staticClass:"mx-2 my-auto"},[t._v("-")]),e("b-form-input",{staticStyle:{width:"40%"},attrs:{placeholder:"Max",type:"number"},model:{value:t.max,callback:function(r){t.max=r},expression:"max"}})],1),e("hr")],2)])],1),e("div",{staticClass:"d-none d-md-block border-right"},[e("div",{staticClass:"shadow mb-2"},[e("b-dropdown",{staticClass:"col-6",attrs:{id:"dropdown-diviser",variant:"Light",text:t.sortOptions[t.sortId].text}},t._l(t.sortOptions,(function(r,i){return e("b-dropdown-item-button",{key:i,on:{click:function(r){return t.setSort(i)}}},[t._v(" "+t._s(r.text)+" ")])})),1)],1),e("b-form-group",{staticClass:"ml-2",attrs:{label:"Brand"}},[e("b-form-checkbox-group",{attrs:{options:t.brands},model:{value:t.brand,callback:function(r){t.brand=r},expression:"brand"}})],1),t._l(t.specifications,(function(r,i,a){return e("span",{key:a},[e("b-form-group",{staticClass:"ml-2 mt-2",attrs:{label:i}},[e("b-form-checkbox-group",{attrs:{options:r,stacked:""},model:{value:t.filters[i],callback:function(r){t.$set(t.filters,i,r)},expression:"filters[key]"}})],1),e("hr")],1)})),e("b-form-group",{staticClass:"ml",attrs:{label:"Rating"}},t._l(5,(function(r){return e("b-form-checkbox",{key:r,attrs:{value:r},model:{value:t.rating,callback:function(r){t.rating=r},expression:"rating"}},[e("b-form-rating",{attrs:{size:"sm",id:"rat",inline:"","no-border":"",readonly:"",variant:"warning",value:6-r}}),r>1?e("small",[t._v("andup")]):t._e()],1)})),1),e("b-form",{attrs:{inline:""}},[e("b-form-input",{staticStyle:{width:"40%"},attrs:{placeholder:"Min",type:"number"},model:{value:t.min,callback:function(r){t.min=r},expression:"min"}}),e("p",{staticClass:"mx-2 my-auto"},[t._v("-")]),e("b-form-input",{staticStyle:{width:"40%"},attrs:{placeholder:"Max",type:"number"},model:{value:t.max,callback:function(r){t.max=r},expression:"max"}})],1),e("div",{staticClass:"mt-2"},[e("b-button",{staticClass:"col-6",attrs:{squared:"",variant:"warning"},on:{click:t.handleReset}},[t._v("Reset")]),e("b-button",{staticClass:"col-6",attrs:{squared:"",variant:"success"},on:{click:t.handleApplyFilter}},[t._v("Apply")])],1)],2)])},a=[],o=(e("c740"),e("b0c0"),e("d3b7"),e("ddb0"),e("b85c")),s=e("9c03"),n={name:"SideFilter",props:["routeName","properties","brands","initQuery"],data:function(){return{min:null,max:null,rating:null,sortId:0,sortOptions:[{text:"Random Order",sort:null,order:null},{text:"Price Low to High",sort:"price",order:"asc"},{text:"Price High to Low",sort:"price",order:"desc"},{text:"Rating",sort:"rating",order:"desc"}],brand:[],filters:{}}},computed:{isFiltered:function(){var t=!1;for(var r in t=t||Boolean(this.sortOptions[this.sortId].sort),t=t||Boolean(this.sortOptions[this.sortId].order),t=t||Boolean(this.rating),t=t||Boolean(this.min),t=t||Boolean(this.max),t=t||Boolean(Array.isArray(this.brand)&&this.brand.length),this.filters)this.filters.hasOwnProperty(r)&&(t=t||Boolean(Array.isArray(this.filters[r])&&this.filters[r].length));return t},specifications:function(){var t,r={},e=Object(o["a"])(this.properties);try{for(e.s();!(t=e.n()).done;){var i=t.value;"Fixed"===i.valueType&&(r[i.name]=i.values)}}catch(a){e.e(a)}finally{e.f()}return r},query:function(){return this.isFiltered?{"cat-name":this.categoryName,"subcat-name":this.subCategoryName,filtered:!0,specifications:JSON.stringify(this.filters),brand:this.brand,pricemin:this.min,pricemax:this.max,rating:this.rating,sort:this.sortOptions[this.sortId].sort,order:this.sortOptions[this.sortId].order}:{"cat-name":this.categoryName,"subcat-name":this.subCategoryName}},categoryName:function(){return this.initQuery["cat-name"]},subCategoryName:function(){return this.initQuery["subcat-name"]}},mixins:[s["a"]],methods:{setSort:function(t){this.sortId!==t&&(this.sortId=t,this.handleApplyFilter())},loadFilters:function(){var t=this.initQuery.sort,r=this.initQuery.order;for(var e in this.sortId=Math.max(this.sortOptions.findIndex((function(e){return e.sort===t&&e.order===r})),0),this.brand=this.initQuery.brand,this.brand&&!Array.isArray(this.brand)&&(this.brand=[this.brand]),this.min=this.initQuery.pricemin,this.max=this.initQuery.pricemax,this.rating=this.initQuery.rating,this.initQuery.specifications)this.initQuery.specifications.hasOwnProperty(e)&&(this.filters[e]=this.initQuery.specifications[e])},handleApplyFilter:function(){this.$router.push({name:this.routeName,query:this.query}).catch((function(){}))},handleReset:function(){this.loadFilters()}},created:function(){this.loadFilters()}},c=n,u=e("2877"),d=Object(u["a"])(c,i,a,!1,null,null,null);r["a"]=d.exports},6768:function(t,r,e){"use strict";var i=e("4cea"),a=e.n(i);a.a},"6a68":function(t,r,e){},7041:function(t,r,e){"use strict";var i=e("f913"),a=e.n(i);a.a},8350:function(t,r,e){},"857a":function(t,r,e){var i=e("1d80"),a=/"/g;t.exports=function(t,r,e,o){var s=String(i(t)),n="<"+r;return""!==e&&(n+=" "+e+'="'+String(o).replace(a,"&quot;")+'"'),n+">"+s+"</"+r+">"}},"90bb":function(t,r,e){"use strict";var i=e("1ef1"),a=e.n(i);a.a},9911:function(t,r,e){"use strict";var i=e("23e7"),a=e("857a"),o=e("af03");i({target:"String",proto:!0,forced:o("link")},{link:function(t){return a(this,"a","href",t)}})},"99af":function(t,r,e){"use strict";var i=e("23e7"),a=e("d039"),o=e("e8b5"),s=e("861d"),n=e("7b0b"),c=e("50c4"),u=e("8418"),d=e("65f0"),l=e("1dde"),p=e("b622"),b=e("2d00"),f=p("isConcatSpreadable"),h=9007199254740991,m="Maximum allowed index exceeded",y=b>=51||!a((function(){var t=[];return t[f]=!1,t.concat()[0]!==t})),g=l("concat"),v=function(t){if(!s(t))return!1;var r=t[f];return void 0!==r?!!r:o(t)},x=!y||!g;i({target:"Array",proto:!0,forced:x},{concat:function(t){var r,e,i,a,o,s=n(this),l=d(s,0),p=0;for(r=-1,i=arguments.length;r<i;r++)if(o=-1===r?s:arguments[r],v(o)){if(a=c(o.length),p+a>h)throw TypeError(m);for(e=0;e<a;e++,p++)e in o&&u(l,p,o[e])}else{if(p>=h)throw TypeError(m);u(l,p++,o)}return l.length=p,l}})},"9c03":function(t,r,e){"use strict";e("d3b7");var i=e("be3b"),a={methods:{loader:function(t,r,e){return new Promise((function(a,o){i["a"].get(t,{params:r}).then((function(t){console.log("".concat(e," loaded")),console.log(t),a(t)})).catch((function(t){console.log("".concat(e," loading failed")),console.log(t.response)}))}))}}};r["a"]=a},ae58:function(t,r,e){},af03:function(t,r,e){var i=e("d039");t.exports=function(t){return i((function(){var r=""[t]('"');return r!==r.toLowerCase()||r.split('"').length>3}))}},afb5:function(t,r,e){},b019:function(t,r,e){"use strict";var i=e("afb5"),a=e.n(i);a.a},b148:function(t,r,e){"use strict";e.r(r);var i=function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("b-container",{staticClass:"main",attrs:{fluid:!0}},[e("b-row",t._l(t.categories,(function(t){return e("b-col",{key:t.name,staticClass:"my-3",attrs:{sm:"4",cols:"6",lg:"2",md:"3"}},[e("category-box",{attrs:{category:t}})],1)})),1),e("b-container",{staticClass:"d-flex justify-content-center",attrs:{fluid:""}},[e("b-overlay",{staticClass:"d-inline block",attrs:{show:t.busy,opacity:"0.4","spinner-small":"","spinner-variant":"primary"},on:{hidden:t.onHidden}},[t.categoryLoadingDone?t._e():e("b-button",{attrs:{disabled:t.busy,variant:"success"},on:{click:t.loadCategories}},[t._v(" Load More ")])],1)],1)],1)},a=[],o=(e("99af"),function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("b-overlay",{staticClass:"d-inline block",attrs:{show:t.busy,opacity:"0.4","spinner-small":"","spinner-variant":"primary"},on:{hidden:t.onHidden}},[e("router-link",{attrs:{id:"holder",tag:"div",to:{name:"CertainCategory",query:{"cat-name":t.category.name}}}},[e("b-card",[e("b-card-img",{attrs:{"no-body":"",src:t.imgSrc,alt:t.category.name,top:"",id:"imageId"}}),e("b-card-text",{staticClass:"mx-auto",attrs:{id:"titleId"}},[t._v(t._s(t.category.name)+" ")])],1)],1)],1)}),s=[],n=(e("9911"),{name:"CategoryBox",data:function(){return{busy:!1}},props:["category"],computed:{imgSrc:function(){return this.category.image?this.category.image.link:""}},methods:{onHidden:function(){this.$refs.button.focus()}}}),c=n,u=(e("6768"),e("2877")),d=Object(u["a"])(c,o,s,!1,null,"f06b1fb6",null),l=d.exports,p=e("9c03"),b={name:"AllCategories",data:function(){return{categories:[],categoryLoadingDone:!1,busy:!1}},components:{CategoryBox:l},mixins:[p["a"]],methods:{onHidden:function(){this.$refs.button.focus()},loadCategories:function(){var t=this;this.busy=!0;var r=this.categories.length,e="2";this.loader("/categories/all",{offset:r,limit:e},"categories").then((function(r){t.busy=!1,t.categories=t.categories.concat(r.data.categories),r.data.categories.length<e&&(t.categoryLoadingDone=!0)}))}},created:function(){this.loadCategories()}},f=b,h=(e("b019"),Object(u["a"])(f,i,a,!1,null,"68b9ff9e",null));r["default"]=h.exports},c740:function(t,r,e){"use strict";var i=e("23e7"),a=e("b727").findIndex,o=e("44d2"),s=e("ae40"),n="findIndex",c=!0,u=s(n);n in[]&&Array(1)[n]((function(){c=!1})),i({target:"Array",proto:!0,forced:c||!u},{findIndex:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),o(n)},dae6:function(t,r,e){"use strict";var i=e("6a68"),a=e.n(i);a.a},dc20:function(t,r,e){"use strict";e.r(r);var i=function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("b-container",{attrs:{fluid:!0,id:"main"}},[e("b-row",{staticClass:"d-block d-md-none"},[e("side-filter",{attrs:{"route-name":t.$route.name,brands:t.brands,properties:t.spec.properties,"init-query":t.$route.query}})],1),e("b-row",[e("b-col",{staticClass:"d-none d-md-block",attrs:{md:"2"}},[e("side-filter",{attrs:{"route-name":t.$route.name,brands:t.brands,properties:t.spec.properties,"init-query":t.$route.query}})],1),e("b-col",[e("b-row",{staticClass:"mt-2 d-none d-md-block"},[e("div",{staticClass:"d-flex"},[e("h3",{},[t._v(t._s(this.$route.query["subcat-name"]))]),e("small",{staticClass:"my-auto ml-auto"},[t._v("Sort By: ")]),e("b-dropdown",{staticClass:"ml-2 my-auto",staticStyle:{width:"200px"},attrs:{id:"dropdown-diviser",variant:"outline-primary",text:t.dropText}},[e("b-dropdown-item-button",{on:{click:function(r){t.dropText="Price Low to High"}}},[t._v("Price Low to High")]),e("b-dropdown-divider"),e("b-dropdown-item-button",{on:{click:function(r){t.dropText="Price High to Low"}}},[t._v("Price High to Low")])],1)],1),e("hr")]),e("b-row",t._l(t.products,(function(t){return e("b-col",{key:t.id,staticClass:"my-3",attrs:{sm:"4",cols:"6",lg:"2",md:"3"}},[e("product-box",{attrs:{product:t}})],1)})),1),e("b-container",{staticClass:"d-flex justify-content-center",attrs:{fluid:""}},[e("b-overlay",{staticClass:"d-inline block",attrs:{show:t.busy,opacity:"0.4","spinner-small":"","spinner-variant":"primary"}},[t.productLoadingDone?t._e():e("b-button",{attrs:{disabled:t.busy,variant:"success"},on:{click:t.loadProducts}},[t._v(" Load More ")])],1)],1)],1)],1)],1)},a=[],o=(e("99af"),e("3f5c")),s=e("5f08"),n=e("9c03"),c={name:"CertainSubCategory",data:function(){return{subCategory:{},spec:{properties:[]},brands:[],products:[],productLoadingDone:!0,dropText:"popyularity",busy:!1}},components:{ProductBox:o["a"],SideFilter:s["a"]},mixins:[n["a"]],methods:{loadSubCategory:function(){var t=this,r=this.$route.query["cat-name"],e=this.$route.query["subcat-name"];this.loader("/sub-category",{"cat-name":r,"subcat-name":e},"".concat(e," under ").concat(r)).then((function(r){t.subCategory=r.data.subcat,t.spec=r.data.spec,t.brands=r.data.brands}))},setProducts:function(t,r){this.products=this.products.concat(t),t.length<r?this.productLoadingDone=!0:this.productLoadingDone=!1},loadProducts:function(){var t=this,r=this.$route.query["cat-name"],e=this.$route.query["subcat-name"];this.productLoadingDone||(this.busy=!0);var i=this.products.length,a="2";if(this.$route.query.filtered){var o=Object.assign({offset:i,limit:a},this.$route.query);delete o.filtered,this.loader("/sort-and-filter",o,"filtered products of ".concat(e," under ").concat(r)).then((function(r){t.busy=!1,t.setProducts(r.data.products,a)}))}else this.loader("/products/sub-category",{"cat-name":r,"subcat-name":e,offset:i,limit:a},"products of ".concat(e," under ").concat(r)).then((function(r){t.busy=!1,t.setProducts(r.data.products,a)}))},clearProducts:function(){this.products=[],this.productLoadingDone=!1}},watch:{$route:function(t,r){t.query.specifications&&(t.query.specifications=JSON.parse(t.query.specifications)),t.query["cat-name"]===r.query["cat-name"]&&t.query["subcat-name"]===r.query["subcat-name"]||this.loadSubCategory(),this.clearProducts(),this.loadProducts()}},created:function(){this.$route.query.specifications&&(this.$route.query.specifications=JSON.parse(this.$route.query.specifications)),this.loadSubCategory(),this.loadProducts()}},u=c,d=(e("1e02"),e("2877")),l=Object(d["a"])(u,i,a,!1,null,"14472d0e",null);r["default"]=l.exports},f913:function(t,r,e){}}]);
//# sourceMappingURL=Category.468c08f0.js.map