{"version":3,"sources":["webpack:///./src/views/User/Entry/Login.vue?c0b4","webpack:///src/views/User/Entry/Login.vue","webpack:///./src/views/User/Entry/Login.vue?eb3e","webpack:///./src/views/User/Entry/Login.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","scopedSlots","_u","key","fn","_v","proxy","_s","errorMessage","staticStyle","on","$event","preventDefault","submitOnAction","model","value","callback","$$v","phoneNo","expression","selectIcon","password","busy","onHidden","ref","staticRenderFns","name","data","timeout","nonexistedAccount","nonexistedPassword","methods","$refs","button","focus","evt","login","showMessage","$bvToast","show","beforeRouteEnter","store","next","component"],"mappings":"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","file":"js/Login.a87354ee.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"pt-md-5\"},[_c('b-toast',{attrs:{\"id\":\"my-toast\",\"variant\":\"warning\"},scopedSlots:_vm._u([{key:\"toast-title\",fn:function(){return [_c('div',{staticClass:\"ml-auto text-center\"},[_c('b-img',{attrs:{\"blank\":\"\",\"blank-color\":\"#ff5555\",\"width\":\"12\",\"height\":\"12\"}}),_c('strong',{staticClass:\"ml-1\"},[_vm._v(\"Error!!\")])],1)]},proxy:true}])},[_c('p',{staticClass:\"text-center\"},[_c('b-spinner',{staticClass:\"mr-3\",attrs:{\"type\":\"grow\",\"small\":\"\"}}),_vm._v(_vm._s(_vm.errorMessage)+\" \"),_c('b-spinner',{staticClass:\"ml-3\",attrs:{\"type\":\"grow\",\"small\":\"\"}})],1)]),_c('div',{staticClass:\"ml-auto text-center\"},[_c('p',{staticClass:\"text-center mt-4 mt-md-0\",staticStyle:{\"font-weight\":\"bolder\"}},[_c('b-link',{attrs:{\"href\":\"#\"}},[_vm._v(\"Login\")]),_vm._v(\" / \"),_c('b-link',{attrs:{\"to\":\"/signup\"}},[_vm._v(\" Register\")])],1)]),_c('div',{staticClass:\"mx-auto mb-5 shadow-none bg-light text-center\",staticStyle:{\"width\":\"90%\",\"max-width\":\"600px\"}},[_c('div',{staticClass:\"mx-auto text-center\",staticStyle:{\"width\":\"90%\",\"max-width\":\"400px\"}},[_c('b-form',{staticClass:\"mt-4\",on:{\"submit\":function($event){$event.preventDefault();return _vm.submitOnAction($event)}}},[_c('b-form-group',{attrs:{\"id\":\"input-group-2\",\"label\":\"Phone Number:\",\"label-for\":\"input-2\"}},[_c('b-input-group',[_c('b-form-input',{attrs:{\"id\":\"input-2\",\"type\":\"tel\",\"required\":\"\"},model:{value:(_vm.phoneNo),callback:function ($$v) {_vm.phoneNo=$$v},expression:\"phoneNo\"}})],1)],1),_c('b-form-group',{attrs:{\"id\":\"input-group-3\",\"label\":\"Password:\",\"label-for\":\"input-3\"}},[_c('b-input-group',[_c('b-form-input',{attrs:{\"id\":\"input-3\",\"type\":_vm.selectIcon?'password':'text',\"required\":\"\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_c('b-input-group-append',{attrs:{\"is-text\":\"\"}},[_c('b-icon',{attrs:{\"icon\":_vm.selectIcon?'eye-slash-fill':'eye-fill'},on:{\"click\":function($event){_vm.selectIcon=!_vm.selectIcon}}})],1)],1)],1),_c('div',{},[_c('b-overlay',{staticClass:\"d-inline block\",attrs:{\"show\":_vm.busy,\"opacity\":\"0.4\",\"spinner-small\":\"\",\"spinner-variant\":\"primary\"},on:{\"hidden\":_vm.onHidden}},[_c('b-button',{ref:\"button\",attrs:{\"disabled\":_vm.busy,\"type\":\"submit\",\"variant\":\"primary\"}},[_vm._v(\" Login\")])],1)],1)],1)],1)])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div>\n      <div class=\"pt-md-5\">\n        <b-toast id=\"my-toast\" variant=\"warning\">\n          <template v-slot:toast-title>\n            <div class=\"ml-auto text-center\">\n              <b-img blank blank-color=\"#ff5555\" class=\"\" width=\"12\" height=\"12\"></b-img>\n              <strong class=\"ml-1\">Error!!</strong>\n            </div>\n          </template>\n          <p class=\"text-center\">\n            <b-spinner type=\"grow\" small class=\"mr-3\"></b-spinner>{{errorMessage}}\n            <b-spinner type=\"grow\" small class=\"ml-3\"></b-spinner>\n          </p>\n        </b-toast>\n        <div class=\"ml-auto text-center\">\n            <p class=\"text-center mt-4 mt-md-0\" style=\"font-weight: bolder;\"><b-link href=\"#\">Login</b-link> / <b-link to=\"/signup\"> Register</b-link></p>\n        </div>\n        <div class=\"mx-auto mb-5 shadow-none bg-light text-center\" style=\"width:90%;max-width: 600px;\">\n          <div class=\"mx-auto text-center\" style=\"width:90%;max-width: 400px;\">\n              <b-form  class=\"mt-4\" @submit.prevent=\"submitOnAction\">\n                  <b-form-group\n                      id=\"input-group-2\"\n                      label=\"Phone Number:\"\n                      label-for=\"input-2\"\n                  >\n                    <b-input-group>\n                      <b-form-input\n                          id=\"input-2\"\n                          type=\"tel\"\n                          required\n                          v-model=\"phoneNo\"\n                      ></b-form-input>\n                    </b-input-group>\n                  </b-form-group>\n                  <b-form-group\n                      id=\"input-group-3\"\n                      label=\"Password:\"\n                      label-for=\"input-3\"\n                  >\n                    <b-input-group>\n                      <b-form-input\n                          id=\"input-3\"\n                          :type=\"selectIcon?'password':'text'\"\n                          required\n                          v-model=\"password\"\n                      ></b-form-input>\n                      <b-input-group-append is-text>\n                        <b-icon :icon=\"selectIcon?'eye-slash-fill':'eye-fill'\" @click=\"selectIcon=!selectIcon\"></b-icon>\n                      </b-input-group-append>\n                    </b-input-group>\n                  </b-form-group>\n                  <!-- <p class=\"text-md-center\" v-if=\"nonexistedAccount\" style=\"font-weight: lighter;color:red;\">\n                  Account doesn't exist!!</p>\n                  <p class=\"text-md-center\" v-if=\"nonexistedPassword\" style=\"font-weight: lighter;color:red;\">\n                      Incorrect Password!!</p> -->\n                  <div class=\"\">\n                    <b-overlay :show=\"busy\" opacity=\"0.4\" spinner-small\n                      spinner-variant=\"primary\" class=\"d-inline block\" @hidden=\"onHidden\">\n                      <b-button  :disabled=\"busy\" type=\"submit\" ref=\"button\" variant=\"primary\">\n                        Login</b-button>\n                    </b-overlay>\n                  </div>\n              </b-form>\n          </div>\n        </div>\n      </div>\n    </div>\n</template>\n<script>\nimport store from '../../../store'\nimport { mapActions } from 'vuex'\n\nexport default {\n  name: 'Login',\n  data () {\n    return {\n      busy: false,\n      selectIcon: true,\n      timeout: null,\n      phoneNo: null,\n      password: null,\n      nonexistedAccount: false,\n      nonexistedPassword: false,\n      errorMessage: ''\n    }\n  },\n  methods: {\n    ...mapActions([\n      'login'\n    ]),\n    onHidden () {\n      this.$refs.button.focus()\n    },\n    submitOnAction (evt) {\n      this.busy = true\n      evt.preventDefault()\n      this.login({\n        phoneNo: this.phoneNo,\n        password: this.password\n      })\n        .then(response => {\n          this.$router.push({ name: 'Home' })\n        })\n        .catch(error => {\n          this.busy = false\n          this.errorMessage = error.response.data.error\n          this.showMessage()\n          console.log('sorry: ' + error.response.data.error)\n        })\n    },\n    showMessage () {\n      this.$bvToast.show('my-toast')\n      // this.$bvToast.toast(this.errorMessage, {\n      //   title: 'Error!!',\n      //   variant: 'danger',\n      //   toaster: 'b-toaster-top-center',\n      //   autoHideDelay: 3000\n      // })\n    }\n  },\n  beforeRouteEnter (to, from, next) {\n    if (!store.getters.authToken) {\n      next()\n    } else {\n      next({ name: 'UserProfile' })\n    }\n  }\n}\n</script>\n<style>\n\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=a596e166&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}