(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["CertainProduct"],{"03ff":function(t,r,o){"use strict";var e=function(){var t=this,r=t.$createElement,o=t._self._c||r;return o("div",[o("b-button",{attrs:{id:"add-to-cart","aria-controls":"sidebar-right-footer"+t.productId,"aria-expanded":t.show},on:{click:function(r){return t.initialHandler(!0)}}},[t._v(" Add to Cart ")]),o("b-button",{attrs:{id:"buy-now","aria-controls":"sidebar-right-footer-buy"+t.productId,"aria-expanded":""},on:{click:function(r){return t.initialHandler(!1)}}},[t._v(" Buy Now ")]),o("b-sidebar",{attrs:{id:"sidebar-right-footer"+t.productId,"aria-label":"Sidebar with custom footer",shadow:"",lazy:"",width:"70%"},scopedSlots:t._u([{key:"footer",fn:function(){return[o("div",{staticClass:"mx-auto text-center"},[o("b-button",{staticClass:"col-6",attrs:{squared:"",variant:"warning"},on:{click:t.doReset}},[t._v("Reset")]),o("b-button",{staticClass:"col-6",attrs:{squared:"",variant:"success",disabled:!t.allSelected},on:{click:t.finalHandler}},[t._v(" "+t._s(t.cartButtonPressed?"Add to Cart":"Check Out")+" ")])],1)]},proxy:!0}]),model:{value:t.show,callback:function(r){t.show=r},expression:"show"}},[t.productLoaded?o("div",{staticClass:"mx-auto d-flex flex-column"},[o("b-list-group",[t._l(t.product.specifications,(function(r,e,i){return o("span",{key:i},[Array.isArray(r)?o("b-list-group-item",[o("b-form-group",{attrs:{label:e}},[o("b-form-select",{staticStyle:{width:"70%"},attrs:{options:r,"value-field":e},scopedSlots:t._u([{key:"first",fn:function(){return[o("b-form-select-option",{attrs:{value:null,disabled:""}},[t._v("-- Please select an option --")])]},proxy:!0}],null,!0),model:{value:t.selector[e],callback:function(r){t.$set(t.selector,e,r)},expression:"selector[key]"}})],1)],1):t._e()],1)})),o("b-list-group-item",[o("label",{attrs:{for:"sb-inline"+t.productId}},[t._v("Quantity")]),o("b-form-spinbutton",{staticClass:"ml-2",attrs:{id:"sb-inline"+t.productId,inline:""},model:{value:t.quantity,callback:function(r){t.quantity=r},expression:"quantity"}})],1)],2)],1):t._e()])],1)},i=[],c=(o("b0c0"),o("5530")),s=o("2f62"),n=o("9c03"),a={name:"SpecSelector",props:["productId","productInit"],data:function(){return{product:{},productLoaded:!1,selector:{},show:!1,cartButtonPressed:null,quantity:1}},computed:{allSelected:function(){if(!this.productLoaded)return!1;for(var t in this.selector)if(this.selector.hasOwnProperty(t)&&Array.isArray(this.product.specifications[t])&&null===this.selector[t])return!1;return!0}},mixins:[n["a"]],methods:Object(c["a"])(Object(c["a"])({},Object(s["b"])(["addToCart"])),{},{loadProduct:function(){var t=this;if(!this.productLoaded){var r=this.productId;this.loader("/product",{productID:r},"specs of product-".concat(r)).then((function(r){t.product=r.data,t.product.specifications=t.product.extra,delete t.product.extra,t.productLoaded=!0,t.loadSelector()}))}},loadSelector:function(){for(var t in this.selector=JSON.parse(JSON.stringify(this.product.specifications)),this.selector)this.selector.hasOwnProperty(t)&&Array.isArray(this.product.specifications[t])&&(this.selector[t]=null)},makeOrder:function(){var t=this.product.price.sellingPrice;return{products:[{id:this.product.productID,name:this.product.name,specifications:this.selector,quantity:this.quantity,image:this.product.images[0],curPrice:t,discount:this.product.price.discount,vat:this.product.price.vat}],subTotal:t*(1+this.product.price.vat/100)*this.quantity,deliveryCharge:60}},initialHandler:function(t){this.loadProduct(),this.show=!0,this.cartButtonPressed=t},finalHandler:function(){this.allSelected&&(this.cartButtonPressed?this.addToCart({productID:this.product.productID,specifications:this.selector,quantity:this.quantity}).then().catch((function(t){console.log(t.response)})):this.$router.push({name:"OrderSubmitDetails",query:{order:this.makeOrder()}}),this.show=!1)},doReset:function(){for(var t in this.selector)this.selector.hasOwnProperty(t)&&Array.isArray(this.product.specifications[t])&&(this.selector[t]=null)}}),created:function(){this.productInit&&(this.product=this.productInit,this.productLoaded=!0)}},d=a,u=(o("4499"),o("2877")),l=Object(u["a"])(d,e,i,!1,null,"deb76b90",null);r["a"]=l.exports},"3f5c":function(t,r,o){"use strict";var e=function(){var t=this,r=t.$createElement,o=t._self._c||r;return o("div",{attrs:{id:"holder"}},[o("b-overlay",{attrs:{show:t.busy,opacity:"0.7","spinner-large":"","spinner-variant":"primary"},on:{hidden:t.onHidden}},[o("span",{on:{click:t.clicking}},[o("b-card",{attrs:{title:t.product.name,"img-src":t.imgSrc,"img-width":"250px","img-height":"250px","img-alt":"product.name","img-top":""}},[o("b-card-text",[o("span",{attrs:{id:"prev-price"}},[t._v("৳"+t._s(t.prevPrice))]),o("sup",{attrs:{id:"discount"}},[t._v("-"+t._s(t.product.discount)+"%")]),o("span",{attrs:{id:"cur-price"}},[t._v(" ৳"+t._s(t.product.curPrice))])])],1)],1)]),o("spec-selector",{attrs:{"product-id":t.product.id}})],1)},i=[],c=(o("9911"),o("03ff")),s={props:["product"],data:function(){return{busy:!1}},components:{SpecSelector:c["a"]},computed:{imgSrc:function(){return this.product.image?this.product.image.link:""},prevPrice:function(){return Math.round(this.product.curPrice/(1-this.product.discount/100))}},methods:{onHidden:function(){this.$refs.button.focus()},clicking:function(){this.busy=!0,this.$router.push({name:"CertainProduct",params:{id:this.product.id}})}}},n=s,a=(o("dae6"),o("2877")),d=Object(a["a"])(n,e,i,!1,null,"4d2446bc",null);r["a"]=d.exports},4499:function(t,r,o){"use strict";var e=o("8350"),i=o.n(e);i.a},"5b9f":function(t,r,o){"use strict";var e=function(){var t=this,r=t.$createElement,o=t._self._c||r;return o("b-container",{attrs:{fluid:!0}},[o("b-row",{staticClass:"d-flex flex-nowrap",attrs:{id:"top"}},t._l(t.products,(function(t,r){return o("b-col",{key:r,staticClass:"productClass col-md-3 col-lg-2 col-sm-4 col-xs-7",attrs:{cols:"7"}},[o("product-box",{attrs:{product:t}})],1)})),1)],1)},i=[],c=o("3f5c"),s={name:"ProductScrollSection",props:["products"],components:{ProductBox:c["a"]}},n=s,a=(o("ef92"),o("2877")),d=Object(a["a"])(n,e,i,!1,null,"797f81a4",null);r["a"]=d.exports},"66d6":function(t,r,o){},"6a68":function(t,r,o){},"74b5":function(t,r,o){"use strict";var e=o("eac8"),i=o.n(e);i.a},8350:function(t,r,o){},"857a":function(t,r,o){var e=o("1d80"),i=/"/g;t.exports=function(t,r,o,c){var s=String(e(t)),n="<"+r;return""!==o&&(n+=" "+o+'="'+String(c).replace(i,"&quot;")+'"'),n+">"+s+"</"+r+">"}},9911:function(t,r,o){"use strict";var e=o("23e7"),i=o("857a"),c=o("af03");e({target:"String",proto:!0,forced:c("link")},{link:function(t){return i(this,"a","href",t)}})},"9c03":function(t,r,o){"use strict";o("d3b7");var e=o("be3b"),i={methods:{loader:function(t,r,o){return new Promise((function(i,c){e["a"].get(t,{params:r}).then((function(t){console.log("".concat(o," loaded")),console.log(t),i(t)})).catch((function(t){console.log("".concat(o," loading failed")),console.log(t.response)}))}))}}};r["a"]=i},af03:function(t,r,o){var e=o("d039");t.exports=function(t){return e((function(){var r=""[t]('"');return r!==r.toLowerCase()||r.split('"').length>3}))}},aff4:function(t,r,o){"use strict";o.r(r);var e=function(){var t=this,r=t.$createElement,o=t._self._c||r;return o("b-container",{attrs:{fluid:""}},[o("pre",[t._v(t._s(t.product))]),o("b-container",{staticClass:"mx-auto text-center",attrs:{fluid:""}},[o("p",{staticClass:"ml-4 mt-2 mb-n1"},[t._v(t._s(t.product.name))]),o("b-form-rating",{attrs:{inline:"","no-border":"",variant:"warning",readonly:"",precision:"2"},model:{value:t.product.rating,callback:function(r){t.$set(t.product,"rating",r)},expression:"product.rating"}})],1),o("b-container",{attrs:{fluid:""}},[o("b-row",[o("b-col",{attrs:{cols:"12",md:"6"}},[o("b-carousel",{staticStyle:{"text-shadow":"1px 1px 2px #333"},attrs:{id:"carousel-1",interval:4e3,controls:"",indicators:"","img-width":"200","img-height":"200",background:"gray"},on:{"sliding-start":t.onSlideStart,"sliding-end":t.onSlideEnd}},t._l(t.product.images,(function(r,e){return o("b-carousel-slide",{key:e,scopedSlots:t._u([{key:"img",fn:function(){return[o("img",{staticClass:"d-block w-100",attrs:{width:"200",height:"300","background-color":"red",src:r.link}})]},proxy:!0}],null,!0)})})),1)],1),t.productLoaded?o("b-col",{staticClass:"d-flex flex-column mx-auto mt-2 mt-md-0",attrs:{cols:"12",md:"6"}},[o("div",[t._v("Specifications:")]),t._l(Object.entries(t.product.specifications),(function(r,e){var i=r[0],c=r[1];return o("ul",{key:e},[t._v(t._s(i)+" "),Array.isArray(c)?o("span",t._l(c,(function(r,e){return o("b-list-group",{key:e,staticClass:"ml-5"},[o("li",[t._v(t._s(r))])])})),1):o("span",[o("li",{staticClass:"ml-5"},[t._v(t._s(c))])])])})),o("div",[t._v("Price:")]),o("div",{staticClass:"d-flex flex-column"},[o("div",{staticClass:"ml-5"},[o("span",{attrs:{id:"prev-price"}},[o("strike",[t._v("৳"+t._s(Math.round(t.product.price.sellingPrice/(1-t.product.price.discount/100))))]),o("strong",{attrs:{id:"discount"}},[t._v(t._s(-1*t.product.price.discount)+"%")])],1),o("br"),o("span",{attrs:{id:"cur-price"}},[t._v(" ৳"+t._s(t.product.price.sellingPrice))])])]),o("div",[t._v("Warranty:")]),o("div",{staticClass:"d-flex flex-column"},[o("div",{staticClass:"ml-5"},[o("ul",[null!=t.product.price.warranty?o("li",[t._v(t._s(t.product.price.warranty)+" days return")]):t._e(),t.product.price.refundable?o("li",[t._v("100% refund")]):t._e()])])])],2):t._e()],1),t.show?o("div",{staticClass:"mx-auto text-center col-md-4"},[o("spec-selector",{attrs:{productId:t.product.productID,"product-init":t.product}})],1):t._e(),o("hr"),t.show?o("div",{staticClass:"mx-auto bd-highlights text-center"},[o("h3",[t._v("Related Product")])]):t._e()],1),o("ProductScrollSection",{attrs:{products:t.relatedProducts}})],1)},i=[],c=o("5530"),s=o("3f5c"),n=o("5b9f"),a=o("03ff"),d=o("2f62"),u=o("be3b"),l=o("9c03"),p={name:"CertainProduct",data:function(){return{show:!1,sliding:null,product:{},productLoaded:!1,relatedProducts:[]}},components:{ProductScrollSection:n["a"],specSelector:a["a"],ProductBox:s["a"]},mixins:[l["a"]],methods:Object(c["a"])(Object(c["a"])({},Object(d["b"])(["addToCart"])),{},{onSlideStart:function(t){this.sliding=!0},onSlideEnd:function(t){this.sliding=!1},showPrev:function(){0===this.i&&(this.i=this.totalimage),this.i=(this.i-1)%this.totalimage},showNext:function(){this.i=(this.i+1)%this.totalimage},loadProduct:function(t){var r=this;this.loader("/product",{productID:t},"product-".concat(t)).then((function(t){r.product=t.data,r.product.specifications=r.product.extra,r.productLoaded=!0,delete r.product.extra,r.show=!0,r.loadRelatedProducts()}))},loadRelatedProducts:function(){var t=this;u["a"].post("/search",{productIds:this.product.relatedProductIDs}).then((function(r){console.log("products related to ".concat(t.product.productID," loaded")),console.log(r),t.relatedProducts=r.data.products})).catch((function(r){console.log("products related to ".concat(t.product.productID," failed loading")),console.log(r.response)}))}}),watch:{$route:function(t,r){this.loadProduct(t.params.id)}},created:function(){this.loadProduct(this.$route.params.id)}},f=p,h=(o("74b5"),o("2877")),b=Object(h["a"])(f,e,i,!1,null,null,null);r["default"]=b.exports},dae6:function(t,r,o){"use strict";var e=o("6a68"),i=o.n(e);i.a},eac8:function(t,r,o){},ef92:function(t,r,o){"use strict";var e=o("66d6"),i=o.n(e);i.a}}]);
//# sourceMappingURL=CertainProduct.0469541c.js.map