(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Category"],{"04ba":function(t,e,r){"use strict";var s=r("91a6"),a=r.n(s);a.a},3481:function(t,e,r){"use strict";r.r(e);var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-container",{staticClass:"bv-example-row",attrs:{fluid:!0,id:"main"}},[r("b-overlay",{staticStyle:{"min-height":"500px"},attrs:{show:!t.productLoaded,"spinner-large":"","spinner-variant":"primary","spinner-type":"grow",rounded:"sm"}},[r("b-carousel",{staticClass:"mb-4",staticStyle:{"text-shadow":"1px 1px 2px #333"},attrs:{id:"carousel-1",interval:3e3,controls:"",indicators:"","img-width":"200","img-height":"200",background:"gray"},on:{"sliding-start":t.onSlideStart,"sliding-end":t.onSlideEnd}},t._l(t.category.images,(function(e,s){return r("b-carousel-slide",{key:s,scopedSlots:t._u([{key:"img",fn:function(){return[r("img",{staticClass:"d-block w-100",attrs:{width:"200",height:"300","background-color":"red",src:e.link}})]},proxy:!0}],null,!0)})})),1),t.productLoaded?r("div",[r("b-row",{staticClass:"d-block d-md-none"},[r("side-filter",{attrs:{"route-name":t.$route.name,brands:t.brands,properties:t.spec.properties,"init-query":t.$route.query}})],1),r("b-row",{staticClass:"mt-4 d-none d-md-block mx-auto text-center"},[r("b-col",{staticClass:"ml-5"},[r("h1",[t._v(t._s(this.$route.query["cat-name"]))])])],1),r("hr"),r("b-row",{},[r("b-col",{staticClass:"d-none d-md-block",staticStyle:{padding:"0"},attrs:{md:"2"}},[r("side-filter",{attrs:{"route-name":t.$route.name,brands:t.brands,properties:t.spec.properties,"init-query":t.$route.query}})],1),r("b-col",[t.subCategories.length?r("h2",{staticStyle:{"text-align":"center"}},[t._v("Sub Categories")]):t._e(),r("b-row",t._l(t.subCategories,(function(e){return r("b-col",{key:e.name,staticClass:"my-3 padding-class col-lg-2 col-md-3 col-sm-4 col-xs-6",attrs:{sm:"4",cols:"6",lg:"2",md:"3"}},[r("sub-category-box",{attrs:{category:t.category.name,"sub-category":e}})],1)})),1),r("b-container",{staticClass:"d-flex justify-content-center",attrs:{fluid:""}},[r("b-overlay",{staticClass:"d-inline block",attrs:{show:t.busySubcat,opacity:"0.4","spinner-small":"","spinner-variant":"primary"}},[t.subCategoryLoadingDone?t._e():r("b-button",{attrs:{disabled:t.busy,variant:"success"},on:{click:t.loadSubCategories}},[t._v(" Load More ")])],1)],1),r("hr"),t.products.length?r("h2",{staticStyle:{"text-align":"center"}},[t._v("Products")]):t._e(),r("b-row",t._l(t.products,(function(t){return r("b-col",{key:t.id,staticClass:"my-3 padding-class",attrs:{sm:"4",cols:"6",lg:"2",md:"3"}},[r("product-box",{attrs:{product:t}})],1)})),1),r("b-container",{staticClass:"d-flex justify-content-center",attrs:{fluid:""}},[r("b-overlay",{staticClass:"d-inline block",attrs:{show:t.busy1,opacity:"0.4","spinner-small":"","spinner-variant":"primary"}},[t.productLoadingDone?t._e():r("b-button",{attrs:{disabled:t.busyProduct,variant:"success"},on:{click:t.loadProducts}},[t._v(" Load More ")])],1)],1),r("hr")],1)],1)],1):t._e()],1)],1)},a=[],i=(r("99af"),r("9911"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("router-link",{attrs:{id:"holder",tag:"div",to:{name:"CertainSubCategory",query:{"cat-name":t.category,"subcat-name":t.subCategory.name}}}},[r("b-card",{class:{shadow:t.shadow},attrs:{"img-src":t.imgSrc,"img-width":"150px","img-height":"150px","img-alt":"product.name","img-top":""},on:{mouseenter:function(e){t.shadow=!0},mouseleave:function(e){t.shadow=!1}}},[r("b-card-text",{staticStyle:{padding:"0 5%"}},[r("div",{staticClass:"text-truncate"},[t._v(" "+t._s(t.subCategory.name)+" ")])])],1)],1)}),o=[],n={name:"SubCategoryBox",data:function(){return{shadow:!1}},props:["category","subCategory"],computed:{imgSrc:function(){return this.subCategory.images?this.subCategory.images[0].link:this.subCategory.image?this.subCategory.image.link:""}},methods:{onHidden:function(){this.$refs.button.focus()}}},c=n,u=(r("ab23"),r("2877")),d=Object(u["a"])(c,i,o,!1,null,"761abf65",null),l=d.exports,h=r("3f5c"),p=r("5f08"),b=r("9c03"),f={name:"CertainCategory",data:function(){return{category:{},images:[],spec:{properties:[]},sliding:!1,brands:[],relatedBrands:[],subCategories:[],subCategoryLoadingDone:!0,products:[],productLoadingDone:!0,dropText:"popularity",busy:!1,busy1:!1,busySubcat:!1,busyProduct:!1,productLoaded:!1}},computed:{imgSrc:function(){return this.category.image?this.category.image.link:""}},components:{SubCategoryBox:l,ProductBox:h["a"],SideFilter:p["a"]},mixins:[b["a"]],methods:{onSlideStart:function(t){this.sliding=!0},onSlideEnd:function(t){this.sliding=!1},loadCategory:function(){var t=this,e=this.$route.query["cat-name"];this.loader("/category",{name:e},"category ".concat(e)).then((function(e){t.category=e.data.category,t.spec=e.data.spec,t.brands=e.data.brands}))},loadSubCategories:function(){var t=this,e=this.$route.query["cat-name"];this.subCategoryLoadingDone||(this.busySubcat=!0);var r=this.subCategories.length,s="6";this.loader("/sub-categories/all",{"cat-name":e,offset:r,limit:s},"sub-categories under ".concat(e)).then((function(e){t.busySubcat=!1,t.subCategories=t.subCategories.concat(e.data.subCategories),t.subCategoryLoadingDone=e.data.subCategories.length<s}))},setProducts:function(t,e){this.products=this.products.concat(t),this.productLoadingDone=t.length<e},loadProducts:function(){var t=this,e=this.$route.query["cat-name"];this.productLoadingDone||(this.busyProduct=!0);var r=this.products.length,s="6";if(this.$route.query.filtered){var a=Object.assign({offset:r,limit:s},this.$route.query);delete a.filtered,this.loader("/sort-and-filter",a,"filtered products of ".concat(e)).then((function(e){t.productLoaded=!0,t.busyProduct=!1,t.setProducts(e.data.products,s)}))}else this.loader("/products/category",{name:e,offset:r,limit:s},"products of ".concat(e)).then((function(e){t.productLoaded=!0,t.busyProduct=!1,t.setProducts(e.data.products,s)}))},loadRelatedBrands:function(){var t=this,e=this.$route.query["cat-name"],r=this.relatedBrands.length,s=5;this.loader("/category/brands",{"cat-name":e,offset:r,limit:s},"brands of ".concat(e)).then((function(e){t.relatedBrands=e.data}))},clearRelatedBrands:function(){this.relatedBrands=[]},clearSubCategories:function(){this.subCategories=[],this.subCategoryLoadingDone=!0},clearProducts:function(){this.products=[],this.productLoadingDone=!0}},watch:{$route:function(t,e){t.query.brand&&!Array.isArray(t.query.brand)&&(t.query.brand=[t.query.brand]),t.query.specifications&&(t.query.specifications=JSON.parse(t.query.specifications)),t.query["cat-name"]!==e.query["cat-name"]&&(this.loadCategory(),this.clearSubCategories(),this.loadSubCategories(),this.clearRelatedBrands(),this.loadRelatedBrands()),this.clearProducts(),this.loadProducts()}},created:function(){this.$route.query.brand&&!Array.isArray(this.$route.query.brand)&&(this.$route.query.brand=[this.$route.query.brand]),this.$route.query.specifications&&(this.$route.query.specifications=JSON.parse(this.$route.query.specifications)),this.loadCategory(),this.loadSubCategories(),this.loadRelatedBrands(),this.loadProducts()}},m=f,g=(r("04ba"),Object(u["a"])(m,s,a,!1,null,"54ff94bd",null));e["default"]=g.exports},"3f5c":function(t,e,r){"use strict";var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{class:{shadow:t.shadow},attrs:{id:"holder"},on:{mouseenter:function(e){t.shadow=!0},mouseleave:function(e){t.shadow=!1}}},[r("b-overlay",{attrs:{show:t.busy,opacity:"0.7","spinner-large":"","spinner-variant":"primary"},on:{hidden:t.onHidden}},[r("b-card",{staticClass:"pt-0"},[r("b-card-img",{ref:"img",staticClass:"mt-0 pt-0",staticStyle:{"border-radius":"0"},attrs:{src:t.imgSrc,alt:t.product.name,height:t.isArrival?"90px":"180px",top:""}}),r("b-card-text",{staticStyle:{padding:"0 5%"}},[r("div",{staticClass:"text-truncate"},[t._v(" "+t._s(t.product.name)+" ")]),t.isArrival?t._e():r("b-form-rating",{staticStyle:{transform:"scale(0.8, 0.8)"},attrs:{inline:"","no-border":"",variant:"warning",readonly:"",size:"sm",precision:"1"},model:{value:t.product.rating,callback:function(e){t.$set(t.product,"rating",e)},expression:"product.rating"}}),t.isArrival?t._e():r("div",[t.product.discount>0?r("span",[r("span",{staticClass:"strike",attrs:{id:"prev-price"}},[t._v("৳"+t._s(t.prevPrice))]),r("sup",{attrs:{id:"discount"}},[t._v("-"+t._s(t.product.discount)+"%")])]):t._e(),r("span",{attrs:{id:"cur-price"}},[t._v(" ৳"+t._s(t.product.curPrice))])])],1)],1)],1),t.isArrival?t._e():r("b-button",{staticClass:"mx-auto my-auto text-center",style:{opacity:1*t.shadow,border:0},attrs:{id:"add-to-cart","aria-controls":"sidebar-right-footer"+t.product.id,"aria-expanded":t.show},on:{click:function(e){return t.initialHandler(!0)}}},[t._v(" Add to Bag ")])],1),r("b-sidebar",{attrs:{id:"sidebar-right-footer"+t.product.id,"aria-label":"Sidebar with custom footer",shadow:"",backdrop:"",lazy:""},scopedSlots:t._u([{key:"title",fn:function(){return[r("span",{},[t._v("There are some options."),r("br"),t._v("Choose yours:")])]},proxy:!0},{key:"footer",fn:function(){return[r("div",{staticClass:"mx-auto text-center"},[r("b-button",{staticClass:"col-6",attrs:{squared:"",variant:"warning"},on:{click:t.doReset}},[t._v("Reset")]),r("b-button",{staticClass:"col-6",attrs:{squared:"",variant:"success",disabled:!t.allSelected},on:{click:t.finalHandler}},[t._v(" "+t._s(t.cartButtonPressed?"Add to Bag":"Check Out")+" ")])],1)]},proxy:!0}]),model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[r("b-overlay",{staticStyle:{height:"500px"},attrs:{show:!t.productLoaded,opacity:"0.4",rounded:"sm"},scopedSlots:t._u([{key:"overlay",fn:function(){return[r("div",{staticClass:"text-center"},[r("b-icon",{attrs:{icon:"stopwatch","font-scale":"3",animation:"cylon"}}),r("p",{attrs:{id:"cancel-label"}},[t._v("Please wait...")])],1)]},proxy:!0}])},[t.productLoaded?r("div",{staticClass:"mx-auto d-flex flex-column text-center"},[r("b-list-group",[t._l(t.productFull.specifications,(function(e,s,a){return r("span",{key:a},[Array.isArray(e)&&e.length>1?r("b-list-group-item",[r("b-form-group",{attrs:{label:s}},[r("b-form-select",{staticStyle:{width:"80%"},attrs:{options:e,"value-field":s},scopedSlots:t._u([{key:"first",fn:function(){return[r("b-form-select-option",{attrs:{value:null,disabled:""}},[t._v("-- Please select an option --")])]},proxy:!0}],null,!0),model:{value:t.selector[s],callback:function(e){t.$set(t.selector,s,e)},expression:"selector[key]"}})],1)],1):t._e()],1)})),r("b-list-group-item",[r("label",{attrs:{for:"sb-inline"+t.product.id}},[t._v("Quantity")]),r("b-form-spinbutton",{staticClass:"ml-2",attrs:{id:"sb-inline"+t.product.id,inline:""},model:{value:t.quantity,callback:function(e){t.quantity=e},expression:"quantity"}})],1)],2)],1):t._e()])],1)],1)},a=[],i=(r("b0c0"),r("9911"),r("5530")),o=r("2f62"),n=r("9c03"),c={props:{product:{},isArrival:{default:!1}},data:function(){return{busy:!1,shadow:!1,productFull:{},productLoaded:!1,selector:{},show:!1,cartButtonPressed:null,quantity:1,imgWidth:0}},computed:Object(i["a"])(Object(i["a"])({},Object(o["c"])(["authToken"])),{},{allSelected:function(){if(!this.productLoaded)return!1;for(var t in this.selector)if(this.selector.hasOwnProperty(t)&&Array.isArray(this.productFull.specifications[t])&&this.productFull.specifications[t].length>1&&null===this.selector[t])return!1;return!0},imgSrc:function(){return this.product.image?this.product.image.link:""},prevPrice:function(){return Math.round(this.product.curPrice/(1-this.product.discount/100))}}),mixins:[n["a"]],methods:Object(i["a"])(Object(i["a"])({},Object(o["b"])(["addToCart"])),{},{loadProduct:function(){var t=this;if(!this.productLoaded){var e=this.product.id;this.loader("/product",{productID:e},"specs of product-".concat(e)).then((function(e){t.productFull=e.data,t.productFull.specifications=t.productFull.extra,delete t.productFull.extra,t.productLoaded=!0,t.loadSelector()}))}},loadSelector:function(){for(var t in this.selector=JSON.parse(JSON.stringify(this.productFull.specifications)),this.selector)this.selector.hasOwnProperty(t)&&Array.isArray(this.productFull.specifications[t])&&this.productFull.specifications[t].length>1&&this.$set(this.selector,t,null);console.log("done")},makeOrder:function(){var t=this.productFull.price.sellingPrice;return{products:[{id:this.productFull.productID,name:this.productFull.name,specifications:this.selector,quantity:this.quantity,image:this.productFull.images[0],curPrice:t,discount:this.productFull.price.discount,vat:this.productFull.price.vat}],subTotal:t*(1+this.productFull.price.vat/100)*this.quantity}},initialHandler:function(t){this.authToken||t?(this.loadProduct(),this.show=!0,this.cartButtonPressed=t):this.$bvModal.show("login-modal")},finalHandler:function(){this.allSelected&&(this.cartButtonPressed?this.addToCart([{productID:this.productFull.productID,specifications:this.selector,quantity:this.quantity,curPrice:this.product.curPrice,discount:this.product.discount,image:this.product.image,name:this.product.name,vat:this.productFull.price.vat}]).then().catch((function(t){console.log(t.response)})):this.$router.push({name:"OrderSubmitDetails",query:{order:this.makeOrder()}}),this.show=!1)},doReset:function(){for(var t in this.selector)this.selector.hasOwnProperty(t)&&Array.isArray(this.productFull.specifications[t])&&this.productFull.specifications[t].length>1&&this.$set(this.selector,t,null)},onHidden:function(){this.$refs.button.focus()},clicking:function(){this.busy=!0,this.$router.push({name:"CertainProduct",params:{id:this.product.id}})}}),mounted:function(){this.imgWidth=this.$refs.img.clientWidth}},u=c,d=(r("c914"),r("2877")),l=Object(d["a"])(u,s,a,!1,null,"e6be925e",null);e["a"]=l.exports},"5f08":function(t,e,r){"use strict";var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"bg-white"},[r("div",{staticClass:"d-xs-block d-md-none"},[r("div",{staticClass:"shadow mb-2"},[r("b-dropdown",{staticClass:"col-6",attrs:{id:"dropdown-diviser",variant:"Light",text:t.sortOptions[t.sortId].text}},t._l(t.sortOptions,(function(e,s){return r("b-dropdown-item-button",{key:s,on:{click:function(e){return t.setSort(s)}}},[t._v(" "+t._s(e.text)+" ")])})),1),r("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.sidebar-footer",modifiers:{"sidebar-footer":!0}}],staticClass:"col-6",attrs:{variant:"Light"}},[r("b-icon",{attrs:{icon:"funnel"}}),t._v(" Filter")],1)],1),r("b-sidebar",{attrs:{id:"sidebar-footer","no-close-on-route-change":"","aria-label":"Sidebar with custom footer",shadow:"",width:"70%"},scopedSlots:t._u([{key:"footer",fn:function(){return[r("div",{staticClass:"mx-auto text-center"},[r("b-button",{staticClass:"col-6",attrs:{squared:"",variant:"warning"},on:{click:t.handleReset}},[t._v("Reset")]),r("b-button",{staticClass:"col-6",attrs:{squared:"",variant:"success"},on:{click:t.handleApplyFilter}},[t._v("Apply")])],1)]},proxy:!0}])},[r("div",{staticClass:"px-3 py-2"},[r("b-form-group",{attrs:{label:"Brand"}},[r("b-form-checkbox-group",{attrs:{options:t.brands},model:{value:t.brand,callback:function(e){t.brand=e},expression:"brand"}})],1),t._l(t.specifications,(function(e,s,a){return r("span",{key:a},[r("b-form-group",{attrs:{label:s}},[r("div","Colors"===s?[r("b-form-checkbox-group",{staticStyle:{"max-height":"200px",overflow:"auto"},attrs:{stacked:""},model:{value:t.filters[s],callback:function(e){t.$set(t.filters,s,e)},expression:"filters[key]"}},t._l(e,(function(e,s){return r("b-form-checkbox",{key:s,attrs:{value:e}},[r("div",{style:{backgroundColor:e,width:"50px",height:"20px",float:"left",position:"relative",top:"2px",border:"1px solid black"}}),r("span",{staticClass:"ml-2"},[t._v(t._s(e.replace(/([A-Z]+)*([A-Z][a-z])/g,"$1 $2")))])])})),1)]:[r("b-form-checkbox-group",{attrs:{options:e},model:{value:t.filters[s],callback:function(e){t.$set(t.filters,s,e)},expression:"filters[key]"}})],1)])],1)})),r("b-form-group",{attrs:{label:"Rating"}},t._l(5,(function(e){return r("b-form-checkbox",{key:e,attrs:{value:6-e},model:{value:t.rating,callback:function(e){t.rating=e},expression:"rating"}},[r("b-form-rating",{attrs:{id:"rat",inline:"","no-border":"",readonly:"",variant:"warning",value:6-e}}),e>1?r("small",[t._v(" and up")]):t._e()],1)})),1),r("label",[t._v("Price")]),r("b-form",{attrs:{inline:""}},[r("b-form-input",{staticStyle:{width:"40%"},attrs:{placeholder:"Min",type:"number",min:0},model:{value:t.min,callback:function(e){t.min=e},expression:"min"}}),r("p",{staticClass:"mx-2 my-auto"},[t._v("-")]),r("b-form-input",{staticStyle:{width:"40%"},attrs:{placeholder:"Max",type:"number",min:0},model:{value:t.max,callback:function(e){t.max=e},expression:"max"}})],1),r("hr")],2)])],1),r("div",{staticClass:"d-none d-md-block border-right"},[r("div",{staticClass:"shadow-sm mb-2"},[r("span",{staticClass:"mx-2"},[t._v("Sort by:")]),r("b-dropdown",{attrs:{id:"dropdown-diviser",variant:"Light",text:t.sortOptions[t.sortId].text}},t._l(t.sortOptions,(function(e,s){return r("b-dropdown-item-button",{key:s,on:{click:function(e){return t.setSort(s)}}},[t._v(" "+t._s(e.text)+" ")])})),1)],1),r("b-form-group",{staticClass:"ml-2",attrs:{label:"Brand"}},[r("b-form-checkbox-group",{attrs:{options:t.brands,stacked:""},model:{value:t.brand,callback:function(e){t.brand=e},expression:"brand"}})],1),r("hr"),t._l(t.specifications,(function(e,s,a){return r("span",{key:a},[r("b-form-group",{staticClass:"ml-2 mt-2",attrs:{label:s}},[r("div","Colors"===s?[r("b-form-checkbox-group",{staticStyle:{"max-height":"200px","overflow-y":"auto"},attrs:{stacked:""},model:{value:t.filters[s],callback:function(e){t.$set(t.filters,s,e)},expression:"filters[key]"}},t._l(e,(function(e,s){return r("b-form-checkbox",{key:s,attrs:{value:e}},[r("div",{style:{backgroundColor:e,width:"50px",height:"20px",float:"left",position:"relative",top:"2px",border:"1px solid black"}}),r("span",{staticClass:"ml-2"},[t._v(t._s(e.replace(/([A-Z]+)*([A-Z][a-z])/g,"$1 $2")))])])})),1)]:[r("b-form-checkbox-group",{attrs:{options:e},model:{value:t.filters[s],callback:function(e){t.$set(t.filters,s,e)},expression:"filters[key]"}})],1)]),r("hr")],1)})),r("b-form-group",{staticClass:"ml-2",attrs:{label:"Rating"}},t._l(5,(function(e){return r("b-form-checkbox",{key:e,attrs:{value:6-e},model:{value:t.rating,callback:function(e){t.rating=e},expression:"rating"}},[r("b-form-rating",{attrs:{size:"sm",id:"rat",inline:"","no-border":"",readonly:"",variant:"warning",value:6-e}}),e>1?r("small",[t._v("andup")]):t._e()],1)})),1),r("hr"),r("label",{staticClass:"ml-2"},[t._v("Price")]),r("b-form",{staticClass:"ml-2",attrs:{inline:""}},[r("b-form-input",{staticStyle:{width:"40%"},attrs:{placeholder:"Min",type:"number",min:0},model:{value:t.min,callback:function(e){t.min=e},expression:"min"}}),r("p",{staticClass:"mx-2 my-auto"},[t._v("-")]),r("b-form-input",{staticStyle:{width:"40%"},attrs:{placeholder:"Max",type:"number",min:0},model:{value:t.max,callback:function(e){t.max=e},expression:"max"}})],1),r("div",{staticClass:"mt-2"},[r("b-button",{staticClass:"col-6",attrs:{squared:"",variant:"warning"},on:{click:t.handleReset}},[t._v("Reset")]),r("b-button",{staticClass:"col-6",attrs:{squared:"",variant:"success"},on:{click:t.handleApplyFilter}},[t._v("Apply")])],1)],2)])},a=[],i=(r("c740"),r("b0c0"),r("d3b7"),r("ddb0"),r("b85c")),o=r("9c03"),n={name:"SideFilter",props:["routeName","properties","brands","initQuery"],data:function(){return{min:null,max:null,rating:null,sortId:0,sortOptions:[{text:"No Order",sort:null,order:null},{text:"Price (Low to High)",sort:"price.sellingPrice",order:"asc"},{text:"Price (High to Low)",sort:"price.sellingPrice",order:"desc"},{text:"Rating (More to Less)",sort:"rating",order:"desc"},{text:"Rating (Less to More)",sort:"rating",order:"asc"},{text:"A to Z",sort:"name",order:"asc"},{text:"Z to A",sort:"name",order:"desc"},{text:"Newest First",sort:"timestamp.created",order:"desc"},{text:"Oldest First",sort:"timestamp.created",order:"asc"},{text:"Popularity (Most sold First)",sort:"sold",order:"desc"},{text:"Popularity (Most sold Last)",sort:"sold",order:"asc"},{text:"Discount (More to Less)",sort:"price.discount",order:"desc"},{text:"Discount (Less to More)",sort:"price.discount",order:"asc"}],brand:[],filters:{}}},computed:{isFiltered:function(){var t=!1;for(var e in t=t||Boolean(this.sortOptions[this.sortId].sort),t=t||Boolean(this.sortOptions[this.sortId].order),t=t||Boolean(this.rating),t=t||Boolean(this.min),t=t||Boolean(this.max),t=t||Boolean(Array.isArray(this.brand)&&this.brand.length),this.filters)this.filters.hasOwnProperty(e)&&(t=t||Boolean(Array.isArray(this.filters[e])&&this.filters[e].length));return t},specifications:function(){var t,e={},r=Object(i["a"])(this.properties);try{for(r.s();!(t=r.n()).done;){var s=t.value;"Fixed"===s.valueType&&(e[s.name]=s.values,e[s.name].sort())}}catch(a){r.e(a)}finally{r.f()}return e},query:function(){return this.isFiltered?{"cat-name":this.categoryName,"subcat-name":this.subCategoryName,filtered:!0,specifications:JSON.stringify(this.filters),brand:this.brand,pricemin:this.min,pricemax:this.max,rating:this.rating,sort:this.sortOptions[this.sortId].sort,order:this.sortOptions[this.sortId].order}:{"cat-name":this.categoryName,"subcat-name":this.subCategoryName}},categoryName:function(){return this.initQuery["cat-name"]},subCategoryName:function(){return this.initQuery["subcat-name"]}},mixins:[o["a"]],methods:{setSort:function(t){this.sortId!==t&&(this.sortId=t,this.handleApplyFilter())},textFor:function(t){function e(t){return t>="0"&&t<="9"?t.charCodeAt(0)-"0".charCodeAt(0):t.charCodeAt(0)-"a".charCodeAt(0)+10}var r=(16*e(t[1])+e(t[2]))/255,s=(16*e(t[3])+e(t[4]))/255,a=(16*e(t[5])+e(t[6]))/255;r<=.03928?r/=12.92:r=(r+.055)/1.055^2.4,s<=.03928?s/=12.92:s=(s+.055)/1.055^2.4,a<=.03928?a/=12.92:a=(a+.055)/1.055^2.4;var i=.2126*r+.7152*s+.0722*a;return i>.179?"black":"white"},loadFilters:function(){var t=this.initQuery.sort,e=this.initQuery.order;for(var r in this.sortId=Math.max(this.sortOptions.findIndex((function(r){return r.sort===t&&r.order===e})),0),this.brand=this.initQuery.brand,this.brand&&!Array.isArray(this.brand)&&(this.brand=[this.brand]),this.min=this.initQuery.pricemin,this.max=this.initQuery.pricemax,this.rating=this.initQuery.rating,this.initQuery.specifications)this.initQuery.specifications.hasOwnProperty(r)&&this.$set(this.filters,r,this.initQuery.specifications[r])},handleApplyFilter:function(){this.$router.push({name:this.routeName,query:this.query}).catch((function(){}))},handleReset:function(){this.loadFilters()}},created:function(){this.loadFilters()}},c=n,u=r("2877"),d=Object(u["a"])(c,s,a,!1,null,"80fd8e3e",null);e["a"]=d.exports},"6e6f":function(t,e,r){},"81a5":function(t,e,r){},"857a":function(t,e,r){var s=r("1d80"),a=/"/g;t.exports=function(t,e,r,i){var o=String(s(t)),n="<"+e;return""!==r&&(n+=" "+r+'="'+String(i).replace(a,"&quot;")+'"'),n+">"+o+"</"+e+">"}},"91a6":function(t,e,r){},9911:function(t,e,r){"use strict";var s=r("23e7"),a=r("857a"),i=r("af03");s({target:"String",proto:!0,forced:i("link")},{link:function(t){return a(this,"a","href",t)}})},"9c03":function(t,e,r){"use strict";r("d3b7");var s=r("be3b"),a={methods:{loader:function(t,e,r){return new Promise((function(a,i){s["a"].get(t,{params:e}).then((function(t){console.log("".concat(r," loaded")),console.log(t),a(t)})).catch((function(t){console.log("".concat(r," loading failed")),console.log(t.response)}))}))}}};e["a"]=a},"9db2":function(t,e,r){},ab23:function(t,e,r){"use strict";var s=r("bd1f"),a=r.n(s);a.a},af03:function(t,e,r){var s=r("d039");t.exports=function(t){return s((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},b148:function(t,e,r){"use strict";r.r(e);var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"main"},[r("b-carousel",{staticClass:"mb-4 mt-4",staticStyle:{"text-shadow":"1px 1px 2px #333"},attrs:{id:"carousel-1",interval:4e3,controls:"",indicators:"","img-width":"200","img-height":"200",background:"gray"},on:{"sliding-start":t.onSlideStart,"sliding-end":t.onSlideEnd}},t._l(t.images,(function(e,s){return r("b-carousel-slide",{key:s,scopedSlots:t._u([{key:"img",fn:function(){return[r("img",{staticClass:"d-block w-100",attrs:{width:"200",height:"300","background-color":"red",src:e.link}})]},proxy:!0}],null,!0)})})),1),r("b-container",[r("div",{staticClass:"mx-auto text-center"},[r("h1",[t._v("Categories")])]),r("b-row",t._l(t.categories,(function(t){return r("b-col",{key:t.name,staticClass:"my-3",attrs:{sm:"4",cols:"6",lg:"2",md:"3"}},[r("category-box",{attrs:{category:t}})],1)})),1),r("div",{staticStyle:{border:"0px solid black","background-color":"white"}},[r("div",{staticClass:"mx-auto text-center"},[r("h1",[t._v("Products")])]),r("b-row",{attrs:{"cols-lg":"5"}},t._l(t.relatedProducts,(function(t,e){return r("b-col",{key:e},[r("product-box",{attrs:{product:t}})],1)})),1)],1),r("b-container",{staticClass:"d-flex justify-content-center",attrs:{fluid:""}},[r("b-overlay",{staticClass:"d-inline block",attrs:{show:t.busy,opacity:"0.4","spinner-small":"","spinner-variant":"primary"}},[t.categoryLoadingDone?t._e():r("b-button",{attrs:{disabled:t.busy,variant:"success"},on:{click:t.loadCategories}},[t._v(" Load More ")])],1)],1),r("hr")],1)],1)},a=[],i=(r("99af"),r("4de4"),r("d81d"),r("fb6a"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{class:{shadow:t.shadow},attrs:{id:"holder"},on:{click:t.clicking,mouseenter:function(e){t.shadow=!0},mouseleave:function(e){t.shadow=!1}}},[r("b-overlay",{attrs:{show:t.busy,opacity:"0.4","spinner-small":"","spinner-variant":"primary"},on:{hidden:t.onHidden}},[r("b-card",{attrs:{"img-src":t.imgSrc,"img-width":"250px","img-height":"200px","img-alt":t.category.name,"img-top":""}},[r("b-card-text",{staticStyle:{padding:"0 5%"}},[r("div",{staticClass:"text-truncate"},[t._v(" "+t._s(t.category.name)+" ")])])],1)],1)],1)}),o=[],n=(r("b0c0"),r("9911"),{name:"CategoryBox",data:function(){return{busy:!1,shadow:!1,images:this.category.images}},props:["category"],computed:{imgSrc:function(){return this.category.images?this.category.images[0].link:this.category.image?this.category.image.link:""}},methods:{onHidden:function(){this.$refs.button.focus()},clicking:function(){this.busy=!0,this.$router.push({name:"CertainCategory",query:{"cat-name":this.category.name}})}}}),c=n,u=(r("b17e"),r("2877")),d=Object(u["a"])(c,i,o,!1,null,"7fb7b112",null),l=d.exports,h=r("9c03"),p=r("3f5c"),b={name:"AllCategories",data:function(){return{categories:[],categoryLoadingDone:!1,busy:!1,sliding:!1}},computed:{relatedProducts:function(){var t=10;return this.categories.filter((function(t){return t.products&&t.products.length})).map((function(t){return t.products[0]})).slice(0,t)},images:function(){var t=6;return this.categories.filter((function(t){return t.images&&t.images.length})).map((function(t){return t.images[0]})).slice(0,t)}},components:{CategoryBox:l,ProductBox:p["a"]},mixins:[h["a"]],methods:{onSlideStart:function(t){this.sliding=!0},onSlideEnd:function(t){this.sliding=!1},loadCategories:function(){var t=this;this.busy=!0;var e=this.categories.length,r="6";this.loader("/categories/all",{offset:e,limit:r},"categories").then((function(e){t.busy=!1,t.categories=t.categories.concat(e.data.categories),e.data.categories.length<r&&(t.categoryLoadingDone=!0)}))}},created:function(){this.loadCategories()}},f=b,m=(r("eba5"),Object(u["a"])(f,s,a,!1,null,"9ed0b860",null));e["default"]=m.exports},b17e:function(t,e,r){"use strict";var s=r("b2ad"),a=r.n(s);a.a},b2ad:function(t,e,r){},bd1f:function(t,e,r){},c740:function(t,e,r){"use strict";var s=r("23e7"),a=r("b727").findIndex,i=r("44d2"),o=r("ae40"),n="findIndex",c=!0,u=o(n);n in[]&&Array(1)[n]((function(){c=!1})),s({target:"Array",proto:!0,forced:c||!u},{findIndex:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),i(n)},c914:function(t,e,r){"use strict";var s=r("6e6f"),a=r.n(s);a.a},d555:function(t,e,r){"use strict";var s=r("81a5"),a=r.n(s);a.a},dc20:function(t,e,r){"use strict";r.r(e);var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-container",{attrs:{fluid:!0,id:"main"}},[r("b-carousel",{staticClass:"mb-4",staticStyle:{"text-shadow":"1px 1px 2px #333"},attrs:{id:"carousel-1",interval:3e3,controls:"",indicators:"","img-width":"200","img-height":"200",background:"gray"},on:{"sliding-start":t.onSlideStart,"sliding-end":t.onSlideEnd}},t._l(t.subCategory.images,(function(e,s){return r("b-carousel-slide",{key:s,scopedSlots:t._u([{key:"img",fn:function(){return[r("img",{staticClass:"d-block w-100",attrs:{width:"200",height:"300","background-color":"red",src:e.link}})]},proxy:!0}],null,!0)})})),1),r("b-row",{staticClass:"d-block d-md-none"},[r("side-filter",{attrs:{"route-name":t.$route.name,brands:t.brands,properties:t.spec.properties,"init-query":t.$route.query}})],1),r("b-row",{staticClass:"mt-2 d-none d-md-block mmx-auto text-center"},[r("h1",[t._v(t._s(this.$route.query["subcat-name"]))]),r("hr"),r("hr")]),r("b-row",[r("b-col",{staticClass:"d-none d-md-block",staticStyle:{padding:"0"},attrs:{md:"2"}},[r("side-filter",{attrs:{"route-name":t.$route.name,brands:t.brands,properties:t.spec.properties,"init-query":t.$route.query}})],1),r("b-col",[r("b-row",[r("h1",{staticClass:"mx-auto text-center"},[t._v("Products")])]),r("b-row",t._l(t.products,(function(t){return r("b-col",{key:t.id,staticClass:"my-3 padding-class",attrs:{sm:"4",cols:"6",lg:"2",md:"3"}},[r("product-box",{attrs:{product:t}})],1)})),1),r("b-container",{staticClass:"d-flex justify-content-center",attrs:{fluid:""}},[r("b-overlay",{staticClass:"d-inline block",attrs:{show:t.busy,opacity:"0.4","spinner-small":"","spinner-variant":"primary"}},[t.productLoadingDone?t._e():r("b-button",{attrs:{disabled:t.busy,variant:"success"},on:{click:t.loadProducts}},[t._v(" Load More ")])],1)],1),r("hr")],1)],1)],1)},a=[],i=(r("99af"),r("9911"),r("3f5c")),o=r("5f08"),n=r("9c03"),c={name:"CertainSubCategory",data:function(){return{subCategory:{},spec:{properties:[]},brands:[],relatedBrands:[],products:[],productLoadingDone:!0,dropText:"popyularity",busy:!1,sliding:!1}},components:{ProductBox:i["a"],SideFilter:o["a"]},mixins:[n["a"]],computed:{imgSrc:function(){return this.subCategory.image?this.subCategory.image.link:""}},methods:{onSlideStart:function(t){this.sliding=!0},onSlideEnd:function(t){this.sliding=!1},loadSubCategory:function(){var t=this,e=this.$route.query["cat-name"],r=this.$route.query["subcat-name"];this.loader("/sub-category",{"cat-name":e,"subcat-name":r},"".concat(r," under ").concat(e)).then((function(e){t.subCategory=e.data.subcat,t.spec=e.data.spec,t.brands=e.data.brands}))},setProducts:function(t,e){this.products=this.products.concat(t),t.length<e?this.productLoadingDone=!0:this.productLoadingDone=!1},loadProducts:function(){var t=this,e=this.$route.query["cat-name"],r=this.$route.query["subcat-name"];this.productLoadingDone||(this.busy=!0);var s=this.products.length,a="6";if(this.$route.query.filtered){var i=Object.assign({offset:s,limit:a},this.$route.query);delete i.filtered,this.loader("/sort-and-filter",i,"filtered products of ".concat(r," under ").concat(e)).then((function(e){t.busy=!1,t.setProducts(e.data.products,a)}))}else this.loader("/products/sub-category",{"cat-name":e,"subcat-name":r,offset:s,limit:a},"products of ".concat(r," under ").concat(e)).then((function(e){t.busy=!1,t.setProducts(e.data.products,a)}))},loadRelatedBrands:function(){var t=this,e=this.$route.query["cat-name"],r=this.$route.query["subcat-name"],s=this.relatedBrands.length,a=5;this.loader("/sub-category/brands",{"cat-name":e,"subcat-name":r,offset:s,limit:a},"brands of ".concat(r," under ").concat(e)).then((function(e){t.relatedBrands=e.data}))},clearRelatedBrands:function(){this.relatedBrands=[]},clearProducts:function(){this.products=[],this.productLoadingDone=!1}},watch:{$route:function(t,e){t.query.specifications&&(t.query.specifications=JSON.parse(t.query.specifications)),t.query["cat-name"]===e.query["cat-name"]&&t.query["subcat-name"]===e.query["subcat-name"]||this.loadSubCategory(),this.clearRelatedBrands(),this.loadRelatedBrands(),this.clearProducts(),this.loadProducts()}},created:function(){this.$route.query.specifications&&(this.$route.query.specifications=JSON.parse(this.$route.query.specifications)),this.loadSubCategory(),this.loadRelatedBrands(),this.loadProducts()}},u=c,d=(r("d555"),r("2877")),l=Object(d["a"])(u,s,a,!1,null,"19199b96",null);e["default"]=l.exports},eba5:function(t,e,r){"use strict";var s=r("9db2"),a=r.n(s);a.a}}]);
//# sourceMappingURL=Category.6784a773.js.map